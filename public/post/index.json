[{"ref":"https://allaway.github.io/robert-blog/2025/12/23/2025-12-23-kexp-now-playing-display/","title":"Building a KEXP Now Playing Display","section":"post","date":"2025.12.23","body":"I listen to KEXP a lot. It\u0026rsquo;s on in the background while I\u0026rsquo;m working, making coffee, cooking dinner, whatever. However, I no longer live in Seattle and wanted to bring KEXP into my life even more\u0026hellip;Enter: the KEXP now playing display. A Raspberry Pi-powered RGB LED matrix shows whatever\u0026rsquo;s currently playing on KEXP in real time, even when I\u0026rsquo;m not listening.\nThe Hardware Setup A few years ago, my holiday project was setting up an LED matrix to display what flights were passing by our house based on the great project from Collen Waddell: FlightTracker. In the intervening years, I had moved halfway across the country, and was looking forward to a new project. The setup is pretty straightforward: a Raspberry Pi Zero 2 W, an RGB LED matrix display, and an Adafruit RGB Matrix Bonnet HAT to wire everything together. Same hardware as FlightTracker, different software. It polls the KEXP API every few seconds and renders the now playing information on the LED matrix.\nThe Software Approach I discovered KEXP\u0026rsquo;s public API during some routine home networking projects and found that it\u0026rsquo;s actually very easy to work with. The main endpoint I\u0026rsquo;m using is https://api.kexp.org/v2/plays/, which returns recently played tracks including the current one. Each response includes artist, song, album, show information, and a bunch of other metadata. The display logic is handled by the rpi-rgb-led-matrix library. For text that\u0026rsquo;s too long to fit on the display, I implemented scrolling. Artist names scroll on the top line, song titles in the middle, and show information on the bottom. Between sets, the display shows the current show and DJ, alternating every 20s with the best 64x32 rendition of the KEXP logo that I could come up with. The project was nearly entirely created with Claude Code (sonnet 4.5), with some loving tweaks from yours truly.\nColor Schemes Each KEXP show has its own personality, so I wanted the display to reflect that. I created custom color palettes for each show, trying to match the vibe of each one. \u0026ldquo;Early\u0026rdquo; gets soft pastels. \u0026ldquo;Drive Time\u0026rdquo; gets traffic light colors. \u0026ldquo;Audioasis\u0026rdquo; gets moody PNW winter colors.\nI spent way too much time tweaking hex codes and testing them on the actual LED matrix, because colors that look good on a computer screen don\u0026rsquo;t always translate well to LEDs. The result is a display that changes character throughout the day as different shows come on. When \u0026ldquo;The Morning Show\u0026rdquo; starts, the whole thing shifts to oranges and golds. When \u0026ldquo;Astral Plane\u0026rdquo; comes on late at night, it\u0026rsquo;s all purples and cyans.\nThings I\u0026rsquo;d Like to Improve The project works pretty well as-is, but there are definitely some things I want to revisit. Non-latin characters aren\u0026rsquo;t available in the font so they show up as ? and some characters are simply too complex for the LED matrix to faithfully reproduce with the 64x32 resolution. I\u0026rsquo;d love to add an ON-AIR light to the top of the box that illuminates when I\u0026rsquo;m actually streaming KEXP, but I don\u0026rsquo;t have any simple way of telling the Pi that this is happening at the moment.\nGetting Your Own If you want to build one yourself, I suggest following the hardware sourcing and assembly instructions over here: https://colinwaddell.com/articles/flight-tracker and then heading to https://github.com/allaway/live-on-kexp/ for the software and installation instructions.\nThe project is GPL-3.0, so feel free to fork it, modify it, use it as a starting point for your own LED matrix project, whatever. As previously mentioned, I heavily relied on FlightTracker for inspiration and rpi-rgb-led-matrix for the display.\n"},{"ref":"https://allaway.github.io/robert-blog/2020/12/18/2020-12-18-2020-sophia-cider/","title":"2020 Sophia Cider","section":"post","date":"2020.12.18","body":"Sound Homebrew Supply often does a yearly sale of fresh-pressed cider for fermenting, but it\u0026rsquo;s typically a blend of eating or baking apples (e.g. Jonagold, Gravenstein, etc). Nothing wrong with that, but I\u0026rsquo;ve long wanted to try my hand at fermenting with true cider apples. This year, they (unfortunately, due to a cidery closure), got access to a couple of blends made true cider apples, and put them up for sale. Impossible to resist, I decided to grab a few gallons and see what came of it.\nOf the two blends, I opted for the Sophia blend, which is:\nApple Percentage Frequin Rouge (bittersweet) 25% Reine des Pommes (bittersweet) 25% Wickson (sharp/crab) 25% Geevenston Fanny (heirloom sharp) 25% Here are descriptions of the individual apples, provided by SHS:\nFrequin Rouge Complex aromas of cloves and nutmeg, mixed with smokiness and musky leather. A bittersweet cider apple from Normandy, favored for making a high quality cider\nReine des Pommes Very fragrant, somewhat tannic, astringent and very sweet. A full bittersweet cider apple. Probably originated in northern Brittany, before 1900. Still known in Mayenne and surrounding areas. Also called Doux Geslin.\nWickson Crisp, juicy, tart, tangy and spicy. Extremely high in both sugar and acid. Sugar level of the juice is around 25%. One of the most intensely flavorful apples available. Becoming one of the most sought-after American cider apples, both for blending and as a single varietal. Small roundish bright red fruit, in September the tree looks like a mass of cherries. Bred and introduced by the generally unknown Albert Etter, one of Americaâ€™s most innovative and important fruit breeders of the 20th century.\nGeeveston Fanny Mild sweet flavor, widely used for blending, lending aromas of pure apple. Australian heirloom dating back to 1870 \u0026amp; originally discovered in the small town of Geeveston, Tasmania.\nI tasted a sample of the unfermented juice and it was very apple-y. Sweeter than I expected, very juicy, and a little vegetal/earthy. More like standard cider than I would have expected, but I imagine that fermentation will bring out a lot of the cider apple flavors as it dries out and the sweetness becomes less overwhelming.\nI opted for Imperial Yeast A40 Bubbles, which is supposed to be clean and not obliterate the fruit flavors, an issue that seems to be common with a lot of the standard beer strains. I did not bother with a starter, just directly pitched the pouch into the 5 gallons of cider, and fermented at 64F. The first 2-3 days were somewhat sulfurous, but that seems to have gone away now (7 days later). Still actively bubbling. I expect we\u0026rsquo;ll probably be ready to keg in a week or two. My plan is to keg, force carbonate, and bottle a gallon of dry cider and backsweeten the remaining 4 gallons a bit in a seperate keg.\nI will update this post with tasting notes when it\u0026rsquo;s ready!\n"},{"ref":"https://allaway.github.io/robert-blog/2020/08/08/2020-08-08-gaggia-steam-mod/","title":"Mod your Gaggia Classic's Steam Knob","section":"post","date":"2020.08.08","body":"An oft-mentioned shortcoming of the Gaggia Classic is the crappy steam knob. It\u0026rsquo;s not ergonomic, can break, and is just not that good looking:\nModified from image by Guy Sie\nI was working on my 2014 Gaggia Classic last week and cracked the knob trying to remove it. Instead of paying 20 bucks for a equally-crappy replacement, I decided I wanted to try and build a replacement. There are a few mods floating around out there, but they either don\u0026rsquo;t appeal to my aesthetics, or there are no instructions on replicating what they\u0026rsquo;ve done.\nAfter looking at Gaggia parts diagrams, making some (somewhat) careful measurements, and spending more time browsing McMaster-Carr and many other similar parts sites than I care to admit, I came up with a solution that I thought would work. Specifically, I wanted to figure out something that would meet the following requirements:\nmost importantly: fits snugly on the 4.6x6mm D-shaft that turns the steam valve looks better than the stock knob is grippier than the stock knob is larger than the stock knob has enough clearance from the chassis of the Gaggia so that it isn\u0026rsquo;t annoying to turn is wide enough to fill most of the hole in the side of the chassis at least semi-heat insulated; the brass steam valve gets hot! uses off the shelf parts or is otherwise not crazy expensive As it turns out, the robotics hobby world has some 6mm D-shafts on motors, and they have lots of parts that follow consistent standards (and cross-standard adapters), so I came up with a few different possibilities for prototyping a new knob. After settling on one, I crossed my fingers, and placed an order. Two days later, I received the parts and spent a few minutes putting them together. Thankfully, the final product turned out as way better than I could have hoped for a prototype:\nWant to build one yourself? Read on:\nTools and Parts List: I ended up buying all of the parts from ServoCity. I have no affiliation with them - I didn\u0026rsquo;t even know they existed a week ago - but they seemed to be a reliable place to order from and they had everything I needed - most importantly, hardware designed to join a 6mm D-shaft. This parts list cost approximately $30 including shipping to Seattle:\n6mm Bore Set Screw D-Hub (Tapped), 0.770\u0026quot; Pattern 0.750\u0026quot; Hub Spacer 6-32 x 1.125\u0026quot; (1-1/8) Zinc-Plated Socket Head Machine Screw 2.00 OD 0.500\u0026quot; ID Smooth Hub Pulley 2.00\u0026quot; x 1/4\u0026quot; O-Ring Belt You\u0026rsquo;ll also need:\nscrewdriver for interchangeable bits a #2 Phillips head bit (not pictured above) a 7/64\u0026quot; hex bit a 3/32\u0026quot; hex bit an extender if you are using a stubby screwdriver like mine - makes accessing the set screw a bit easier optional, but could be helpful if you need to reposition the steam valve: a pair of pliers with a smooth surface to avoid damaging the brass steam valve surface. I like my Knipex 86 03 180 for these sorts of delicate tasks, but any old pliers should get the job done (not pictured above) Instructions The assembly is pretty self explanatory, but here\u0026rsquo;s a basic guide. As easy as it is to make this change, this mod might void any warranty you have, and you could inadvertently damage your Gaggia during installation, so proceed at your own risk:\nbuy the parts unplug the gaggia from the wall outlet and make sure it has cooled to room temperature put the o-ring on the pulley insert the set screw into the small hole on the side hub, screw in enough to secure it but not enough to block the D-bore hole. assemble the parts as pictured: hub, spacer, pulley with o-ring. Make sure the hub screw holes, the 4 unthreaded hub spacer holes, and 4 of the center pulley holes line up: push the screws through the 4 center holes that line up with the unthreaded holes on the hub spacer and threaded holes on the hub, and thread them into the hub. Tighten down with the 7/64\u0026quot; bit: unscrew the two screws in the back of the gaggia lid, remove the lid, and remove the old steam knob. The old steam knob should just pull off, but a flathead screwdriver can help remove it. Steps 2 and 3 of this IFixit tutorial describe how to remove the lid and steam knob with some nice pictures if you need a visual. inspect the brass steam valve shaft. Using the old steam knob partially slid onto the valve shaft or a pair of pliers, gently turn the valve shaft until the flat side of the valve shaft is facing the back of the machine, about 45 degrees from vertical: line up the flat side of the D-bore hub on your newly assembled knob with the flat side of the brass valve shaft, and slide the knob onto the shaft. Inside the machine, slide the hub down the shaft until you reach the end of the flat section of the shaft. tighten down the set screw in the hub with the 3/32\u0026quot; bit until the knob is firmly attached to the brass shaft. Be careful not to overtighten here - I think the set screw can probably bite into and mar the brass valve. Gently pull on the knob to make sure it\u0026rsquo;s firmly attached, and try turning the knob to see if you can move the valve. replace the lid and screw it back down. You\u0026rsquo;re done!\nClosing thoughts and future improvements With this basic hardware (hub and spacer), I think one could easily mod this to use other knobby sorts of things. I have a few things I\u0026rsquo;d like to improve in a new iteration:\nbetter thermal insulation. This is the one thing the Gaggia knob does better. I thought that the large, airy metal pieces would disperse heat rapidly enough for it to remain cool to the touch, but in reality the metal bits get quite warm especially on a machine that\u0026rsquo;s been on for a while. The rubber o-ring gets warm too - not too hot to touch - but would prefer if it was cooler. grippier rubber. When the machine is hot, the o-ring can slide a little bit on the pulley. In practice, it\u0026rsquo;s not really noticeable, but still would prefer it didn\u0026rsquo;t happen at all. I am guessing this is a buna-n o-ring, and am planning on trying a silicone 2 inch I.D. o-ring to see if it works any better. custom parts. I\u0026rsquo;d like it if the hub was a mm or two thinner, and if the d-bore was a little snugger of a fit on the valve shaft. I\u0026rsquo;d also like the pulley to have the exact number of holes (4) that I need, and no more. metric-headed bolts. No reason for this other than personal preference. Pan-head bolds also might look a little cleaner. I hope this was helpful! Please feel free to reach out on twitter with any questions.\n"}]